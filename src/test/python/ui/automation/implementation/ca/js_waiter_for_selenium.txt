function checkingActiveAJAX(){
    counter = 1;

    var interval = setInterval(function() {
        if((window.jQuery != null)   && ((jQuery.active === 0)) || (jQuery.active === 1)) {
            console.log("AJAX has been completed");
            clearInterval(interval);
            resolve("true");
        } else if(counter > 70){
            console.log("TIMEOUT. But AJAX is still active.");
            clearInterval(interval);
            reject("false");
        } else {
            console.log("AJAX is still active. And counter => " + counter);
        }
    counter = counter + 1;
    }, 100);
}

if(document.readyState === "complete"){
    console.log("Page has been loaded");
    checkingActiveAJAX();
} else {
	console.log("Page has NOT been loaded");
    window.addEventListener('load', function(){
        console.log("Page in progress");
        checkingActiveAJAX();
    }, false);
}
